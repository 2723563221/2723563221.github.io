<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Â∞èÊòéÂêåÂ≠¶</title>
    <style>
                   * {
            	margin:0;
            	padding:0;
            	box-sizing:border-box;
            }
            body {
            	overflow-y:auto;
            	font-family:Arial,sans-serif;
            	background:#FFFFFF;
            	min-height:100vh;
            }
            .profile {
            	position:relative;
            	color:black;
            	padding:15px;
            	touch-action:pan-y;
            }
            .avatar {
            	width:80px;
            	height:80px;
            	border-radius:50%;
            	margin-bottom:10px;
            }
            .stats {
            	font-size:14px;
            	margin:10px 0;
            }
            .music-control {
            	background:none;
            	border:none;
            	width:90vw;
            	height:50px;
            	cursor:pointer;
            	display:block;
            	margin:0 auto;
            }
            .music-control img {
            	width:100%;
            	height:auto;
            	display:block;
            }
            .grid {
            	display:grid;
            	grid-template-columns:repeat(3,1fr);
            	gap:2px;
            }
            .grid img {
            	width:100%;
            	height:100%;
            	object-fit:cover;
            	display:block;
            }
            .thumbnail {
            	aspect-ratio:3/4;
            	background:#FFFFFF;
            	position:relative;
            }
            .folder-container {
            	position:fixed;
            	top:0;
            	left:0;
            	width:100vw;
            	height:100vh;
            	display:none;
            	background:#000;
            	z-index:1000;
            }
            .folder {
            	width:100%;
            	height:100%;
            	position:relative;
            }
            .folder .date {
                position: absolute;
                bottom: 100px; /* Ê†πÊçÆÂÆûÈôÖÂ∏ÉÂ±ÄË∞ÉÊï¥ */
                left: 20px;
                font-size: 12px;
                font-weight: bold;
                color: #808080;
                text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
                z-index: 2;
            }
            
            .folder .description {
                position: absolute;
                bottom: 80px; /* ‰Ωç‰∫éÊó•Êúü‰∏ãÊñπ */
                left: 20px;
                color: white;
                font-size: 14px;
                max-width: 100%;
                line-height: 1.4;
                text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
                z-index: 2;
            }
            .carousel {
            	display:flex;
            	transition:transform 0.3s;
            }
            .media-item {
            	flex:0 0 100%;
            	height:100vh;
            	display:flex;
            	align-items:center;
            	justify-content:center;
            }
            video,img {
            	max-width:100%;
            	max-height:100%;
            	object-fit:contain;
            }
            .close-btn {
            	position:absolute;
            	top:30px;
            	right:40px;
            	width:60px;
            	height:60px;
            	background-image:url('https://mx-1341045368.cos.ap-chengdu.myqcloud.com/241226-t.jpg');
            	background-size:cover;
            	background-repeat:no-repeat;
            	text-indent:-9999px;
            	border:none;
            	cursor:pointer;
            	z-index:1001;
            	border-radius:50%;
            }
            /* Ê∑ªÂä†Âä†ËΩΩÂä®Áîª*/
            @keyframes spin {
            	to {
            	transform:rotate(360deg);
            }
            ;}.loading {
            	position:fixed;
            	top:50%;
            	left:50%;
            	width:30px;
            	height:30px;
            	border:3px solid rgba(0,0,0,0.1);
            	border-top-color:#000;
            	border-radius:50%;
            	animation:spin 1s linear infinite;
            }
            /* Ê∑ªÂä†ÊªëÂä®ÊèêÁ§∫ÁÆ≠Â§¥*/
            .swipe-hint {
            	position:fixed;
            	bottom:20px;
            	left:50%;
            	transform:translateX(-50%);
            	opacity:0.5;
            	animation:bounce 1s infinite;
            }
            @keyframes bounce {
            	0%,100% {
            	transform:translateY(0);
            }
            50% {
            	transform:translateY(-10px);
            }
            ;}/* Êñ∞Â¢ûÊªëÂä®ÊèêÁ§∫Ê†∑Âºè*/
            .swipe-hint {
            	position:fixed;
            	left:50%;
            	transform:translateX(-50%);
            	opacity:0;
            	pointer-events:none;
            	transition:opacity 0.3s;
            	z-index:2000;
            }
            .swipe-up-hint {
            	top:20px;
            	background:url(https://example.com/arrow-up.svg) no-repeat center/contain;
            	width:40px;
            	height:40px;
            }
            .swipe-down-hint {
            	bottom:20px;
            	background:url(https://example.com/arrow-down.svg) no-repeat center/contain;
            	width:40px;
            	height:40px;
            }
            /* ÊªëÂä®Êó∂ÁöÑÂä®ÊÄÅÂèçÈ¶à*/
            .folder-container::after {
            	content:"";
            	position:absolute;
            	top:0;
            	left:0;
            	width:100%;
            	height:100%;
            	background:rgba(255,255,255,0.1);
            	opacity:0;
            	transition:opacity 0.3s;
            }
            .swiping-up .folder-container::after {
            	opacity:1;
            	background:linear-gradient(to top,transparent 50%,rgba(0,0,0,0.2) 100%);
            }
            .swiping-down .folder-container::after {
            	opacity:1;
            	background:linear-gradient(to bottom,transparent 50%,rgba(0,0,0,0.2) 100%);
            }
            /* Ê∑ªÂä†Êñá‰ª∂Â§πÂàáÊç¢Âä®Áîª*/
            .folder-container {
            	transition:transform 0.4s cubic-bezier(0.25,0.46,0.45,0.94);
            }
            .swiping-up .folder-container {
            	transform:translateY(100vh);
            }
            .swiping-down .folder-container {
            	transform:translateY(-100vh);
            }
            
    </style>
</head>
<body>
    <div class="profile">
        <img src="https://mx-1341045368.cos.ap-chengdu.myqcloud.com/241226-t.jpg" class="avatar" alt="Â§¥ÂÉè">
        <h1>Â∞èÊòéÂêåÂ≠¶</h1>
        <div class="stats">
            <span>Èò≥È´òÂéø</span>
            <span>Á¨¨‰∏ÄÂÆâÁê™Êãâ</span>
            <br>
            <button class="music-control" id="musicBtn">
                <img src="https://mx-1341045368.cos.ap-chengdu.myqcloud.com/gz.png" alt="Play Music" id="playIcon">
            </button>
        </div>
        <link rel="preload" href="https://mx-1341045368.cos.ap-chengdu.myqcloud.com/xht.mp3" as="audio">
        <audio id="bgMusic" loop>
            <source src="https://mx-1341045368.cos.ap-chengdu.myqcloud.com/xht.mp3" type="audio/mpeg">
            ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅÈü≥È¢ëÊí≠Êîæ„ÄÇ
        </audio>
       <div class="grid">
            <div class="thumbnail" data-folder="1">
                <img src="250217-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="2">
                <img src="250130-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="3">
                <img src="250115-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="4">
                <img src="250101-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="5">
                <img src="250101-2-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="6">
                <img src="241222-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="7">
                <img src="241215-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="8">
                <img src="241128-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="9">
                <img src="241123-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="10">
                <img src="241123-2-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="11">
                <img src="241116-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="12">
                <img src="241113-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="13">
                <img src="241109-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="14">
                <img src="241103-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="15">
                <img src="241102-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="16">
                <img src="241030-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="17">
                <img src="241010-1-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="18">
                <img src="241005-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="19">
                <img src="241001-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="20">
                <img src="241001-2-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="21">
                <img src="240930-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="22">
                <img src="240923-2-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="23">
                <img src="240923-1-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="24">
                <img src="240921-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="25">
                <img src="240916-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="26">
                <img src="240915-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="27">
                <img src="240910-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="28">
                <img src="240909-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="29">
                <img src="240904-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="30">
                <img src="240826-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="31">
                <img src="240826-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="32">
                <img src="240817-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="33">
                <img src="240804-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="34">
                <img src="240624-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="35">
                <img src="240618-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="36">
                <img src="240529-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="37">
                <img src="240529-2-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
            <div class="thumbnail" data-folder="38">
                <img src="240528-0.webp" class="thumb" alt="Áº©Áï•Âõæ">
            </div>
        </div>
    </div>

    <template id="folderTemplate">
        <div class="folder-container">
            <div class="folder">
                <div class="swipe-hint swipe-up-hint"></div>
                <div class="swipe-hint swipe-down-hint"></div>
                <div class="carousel"></div>
                <div class="date"></div>
                <div class="description"></div>
                <audio class="bgm"></audio>
                <div class="close-btn">close</div>
                </div>
        </div>
    </template>

   <script>  
const BASE_URL = 'https://mx-1341045368.cos.ap-chengdu.myqcloud.com/';  

const foldersData = {  
            1: { bgm: "250217.mp3", media: ["250217-1.mp4"],
            date: "2025-02-17 10:49",text: "#ÁîüÊ¥ªÁ¢éÁâá"},  
            2: {media: ["250130-1.mp4"],
            date: "2025-01-30 09:42",text: "ËõüÈæôÂéªÔºåÁÅµËõáÊù•ÔºåÂ∑≥Â∑≥Â¶ÇÊÑèÔºåÁîüÁîü‰∏çÊÅØ"},
            3: {bgm: "250115.mp3",media: ["250115-1.mp4", "250115-2.mp4"],
            date: "2025-01-15 11:14",text: "#‰∫∫Á±ªÂπºÂ¥Ω Âß®Âß®Â∏¶Â®ÉÔºåÊúâÁ¶èÂï¶ÔºÅ"},
            4: {bgm: "250101.mp3",media: ["250101-1.mp4", "250101-2.mp4", "250101-3.mp4", "250101-4.mp4"],
            date: "2025-01-01 14:54",text: "#ÂàÜ‰∫´ÁÖßÁâá"},
            5: {media: ["250101-11.mp4"],
            date: "2025-01-01 01:04",text: "2025"},
            6: {media: ["241222-1.jpg", "241222-2.jpg", "241222-3.jpg"],
            date: "2024-12-22 23:09",text: "Âèë‰∏™friendÂúà"},
            7: {bgm: "241215.mp3",media: ["241215-1.mp4", "241215-2.mp4", "241215-3.mp4", "241215-4.webp"],
            date: "2024-12-15 17:41",text: "#ÁîüÊ¥ªÁ¢éÁâá"},
            8: {bgm: "241128.mp3",media: ["241128-1.png"],
            date: "2024-11-28 19:44"},
            9: {bgm: "241123.mp3",media: ["241123-1.mp4", "241123-2.mp4", "241123-3.png"],
            date: "2024-11-23 21:15",text: "22üç∞"},
            10: {media: ["241123-1.jpg", "241123-2.jpg"],
            date: "2024-11-23 20:58",text: "22"},
            11: {bgm: "241116.mp3",media: ["241116-1.mp4"],
            date: "2024-11-16 09:02",text: "Á•ùËá™Â∑±Â∞è‰∫∫ÂæóÂøó"},
            12: {media: ["000.png"],
            date: "2024-11-13 04:07",text: "ÂÖàÂ∏ùÂàõ‰∏öÊú™ÂçäËÄå‰∏≠ÈÅìÂ¥©ÂçíÊÆÇ"},
            13: {media: ["241109-1.png"],
            date: "2024-11-09",text: "ÊàëÊòØ‰∏ÄÈºéÔºåÊàëÂêåÊÑèÊ∞∏Â§úÊòüÊ≤≥1Â§©ÂçÅÊõ¥"},
            14: {media: ["241103-1.png"],
            date: "2024-11-03 02:46",text: "Ê®äÂÆùÈíè"},
            15: {bgm: "241102.mp3",media: ["241102-1.jpeg", "241102-2.jpeg", "241102-3.jpeg"],
            date: "2024-11-02 00:07",text: "‰∏âÂº†ÂõæÔºåÊâæ‰∏â‰∏™‰∫∫p„ÄÇ"},
            16: {media: ["241030-1.png","241030-2.png","241030-3.png"],
            date: "2024-10-30 04:07",text: "sunrise"},
            17: {bgm: "241010.mp3",media: ["241010-1-0.webp", "241010-2.webp"],
            date: "2024-10-10 12:37"},
            18: {bgm: "241005.mp3",media: ["241005-1.mp4"],
            date: "2024-10-05 18:41",text: "ËØ¥ÈÅóÊÜæ‰πü‰∏çÊòØÂæàÈÅóÊÜæËØ¥‰∏çÈÅóÊÜæ‰πüÂæàÈÅóÊÜæ"},
            19: {bgm: "241001.mp3",media: ["241001-1.webp", "241001-2.webp", "241001-3.webp", "241001-4.webp", "241001-5.webp"],
            date: "2024-10-01 23:18",text: "Ê≤°ÊúâÂ∏∏ÈùíÊ†ëÂÅöËá™Â∑±ÁöÑËá™Áî±Ëä±"},
            20: {media: ["241001-1.png"],
            date: "2024-10-01 19:38",text: "‰∏ÄËΩÆÊòéÊúà‰∏ã ÂÖ±Á•ùÁ•ñÂõΩÂ•Ω"},
            21: {bgm: "240930.mp3",media: ["240930-1.mp4"],
            date: "2024-09-30 00:20",text: "ÂúÜÂë®ÁéáÊ≤°ÊúâÊ≤°ÊúâÂ∞ΩÂ§¥Ôºå‰∫∫‰ª¨‰πüÂè™ËÆ∞ÂæóÂºÄÂ§¥ÔºÅ"},
            22: {media: ["240923-1.png","240923-2.png","240923-3.png"],
            date: "2024-09-23 20:36",text: "‰∫∫ÁîüÂ∞èÊª°ËÉú‰∏áÂÖ®"},
            23: {bgm: "240923.mp3",media: ["240923-1-0.webp"],
            date: "2024-09-23 01:14",text: "‰Ω†ÊâøËØ∫ËøáÁöÑÊúà‰∫ÆÔºåËøòÊòØÊ≤°ÊúâÂá∫Áé∞ÔºÅ"},
            24: {media: ["240921-1.mp4"],
            date: "2024-09-21 22:04"},
            25: {media: ["240916-1.png","240916-2.png","240916-3.png"],
            date: "2024-09-16 00:56",text: "ÂΩì‰∏ãÁöÑÂø´‰πêÂ∞±ÊòØÂø´‰πê"},
            26: {bgm: "240915.mp3",media: ["240915-1.webp", "240915-2.webp"],
            date: "2024-09-15 23:37",text: "Âπ∏Á¶èÊ≤°ÊúâÊ†áÂáÜÁ≠îÊ°à"},
            27: {bgm: "240910.mp3",media: ["240910-1.jpg", "240910-2.jpg"],
            date: "2024-09-10 23:08"},
            28: {media: ["240909-1.png","240909-2.png","240909-3.png"],
            date: "2024-09-09 17:48",text: "ËôΩÁÑ∂ÊàëÊ≤°ÂéªÔºå‰ΩÜÊòØÊàë‰ºöËπ≠"},
            29: {bgm: "240904.mp3",media: ["240904-1.mp4"],
            date: "2024-09-04 01:28"},
            30: {bgm: "240826.mp3",media: ["240826-1.jpg"],
            date: "2024-08-26 22:57"},
            31: {media: ["240826-1.mp4"],
            date: "2024-08-26 16:58",text: "ÊàëÁöÑÁõÆÊ†áÔºöÁ¨ëÊ≠ªËá™Â∑±ÔºåÁ¨ëÊ≠ªÈòüÂèãÔºåÁ¨ëÊ≠ªÊâÄÊúâ‰∫∫„ÄÇ"},
            32: {media: ["000.png"],
            date: "2024-08-17 14:24",text: "ÊúâÁßçÂçñ‰∫ÜË°Ä‰πãÂêéÔºåÂèëÁé∞ÂâçÂ§´ÊãøÂéªÊïëÂ∞è‰∏âÁöÑÊó†ÂäõÊÑüÔºÅ"},
            33: {media: ["240804-1.jpg","240804-2.jpg"],
            date: "2024-08-04 23:13",text: "ÂèëÊòéËøô‰∏™Èù¢ÁöÑ‰∫∫ÔºåÁúüÊòØ‰∏™Â§©ÊâçÔºÅ"},
            34: {bgm: "240624.mp3",media: ["240624-1.mp4"],
            date: "2024-06-24 23:21"},
            35: {media: ["240618-1.png","240618-2.png"],
            date: "2024-06-18 23:11",text: "Èù¢Ë¶ÅÂ∏∏ËßÅÔºåÈ•≠Ë¶ÅÈïøÂêÉ."},
            36: {media: ["240529-1.mp4"],
            date: "2024-05-29 15:31"},
            37: {media: ["240529-1.jpg", "240529-2.jpg", "240529-3.jpg"],
            date: "2024-05-29 00:51",text: "Â∞èÂ∞èÂ±±Ë∑ØÔºåÊãø‰∏ãÊãø‰∏ã„ÄÇ"},
            38: {media: ["240528-1.jpg", "240528-2.jpg", "240528-3.jpg", "240528-4.jpg", "240528-5.jpg", "240528-6.jpg", "240528-7.jpg", "240528-8.jpg", "240528-9.jpg"],
            date: "2024-05-28 00:28",text: "ÔºÅÔºÅÔºÅ"}
            
                  };             
let currentFolder = null;  
let currentIndex = 0;  
let currentFolderId = null; // ËÆ∞ÂΩïÂΩìÂâçÊñá‰ª∂Â§πID
let isHomeScrollEnabled = true; // ÊéßÂà∂È¶ñÈ°µÊªëÂä®ÊòØÂê¶ÂêØÁî®

document.addEventListener('DOMContentLoaded', function() {
  // Ëé∑ÂèñÊâÄÊúâÁº©Áï•ÂõæÂÖÉÁ¥†
  const thumbs = document.querySelectorAll('.grid .thumb');
  
  // ÂÆö‰πâÂü∫Á°ÄË∑ØÂæÑ
  const basePath = 'https://mx-1341045368.cos.ap-chengdu.myqcloud.com/';
  
  // ÈÅçÂéÜÊâÄÊúâÂõæÁâáÂπ∂Êõ¥Êñ∞Ë∑ØÂæÑ
  thumbs.forEach(img => {
    const originalSrc = img.getAttribute('src');
    img.src = basePath + originalSrc;
  });
});

// ÁªëÂÆöÁº©Áï•ÂõæÁÇπÂáª‰∫ã‰ª∂  
document.querySelectorAll('.thumbnail').forEach(thumb => {  
    thumb.addEventListener('click', () => {  
        const folderId = thumb.dataset.folder;  
        openFolder(folderId);  
    });  
});  

// Èü≥‰πêÊéßÂà∂ÈÄªËæë  
const musicBtn = document.getElementById('musicBtn');  
const bgMusic = document.getElementById('bgMusic');  
const playIcon = document.getElementById('playIcon');  
let isMusicPlaying = false;  

musicBtn.addEventListener('click', () => {  
    if (isMusicPlaying) {  
        bgMusic.pause();  
        playIcon.src = BASE_URL + 'gz.png';  
    } else {  
        bgMusic.play();  
        playIcon.src = BASE_URL + 'ygz.png';  
    }  
    isMusicPlaying = !isMusicPlaying;  
});  

// ÊâìÂºÄÊñá‰ª∂Â§π  
function openFolder(folderId) {  
    currentFolderId = parseInt(folderId); // ËÆ∞ÂΩïÂΩìÂâçÊñá‰ª∂Â§πID
    const data = foldersData[folderId];  
    const template = document.getElementById('folderTemplate');  
    const clone = template.content.cloneNode(true);  
    const container = clone.querySelector('.folder-container');  

    // ËÆæÁΩÆËÉåÊôØÈü≥‰πê  
    const bgm = container.querySelector('.bgm');  
    bgm.src = BASE_URL + data.bgm;  
    bgm.loop = true;  

    // ÂàùÂßãÂåñËΩÆÊí≠ÂÜÖÂÆπ  
    const carousel = container.querySelector('.carousel');  
    data.media.forEach(file => {  
        const item = document.createElement('div');  
        item.className = 'media-item';  
        if (file.endsWith('.mp4')) {  
            const video = document.createElement('video');  
            video.loop = true;  
            video.innerHTML = `<source src="${BASE_URL}${file}" type="video/mp4">`;  
            video.addEventListener('loadeddata', () => {  
                video.volume = 1;  
                if (currentIndex === 0) video.play();  
            });  
            item.appendChild(video);  
        } else {  
            const img = document.createElement('img');  
            img.src = BASE_URL + file;  
            item.appendChild(img);  
        }  
        carousel.appendChild(item);  
    });  

    // Ê∑ªÂä†Âà∞È°µÈù¢Âπ∂ÊòæÁ§∫  
    document.body.appendChild(clone);  
    container.style.display = 'block';  
    currentFolder = container;  
    bgm.play();  
    
    // ËÆæÁΩÆÊó•ÊúüÂíåÊñáÊú¨
    const dateElement = container.querySelector('.date');
    const descElement = container.querySelector('.description');
    dateElement.textContent = data.date;
    descElement.textContent = data.text || ''; // Â§ÑÁêÜÊ≤°ÊúâÊèèËø∞ÁöÑÊÉÖÂÜµ

    // Á¶ÅÁî®È¶ñÈ°µÊªëÂä®  
    disableHomeScroll();  

    // ÂàùÂßãÂåñÊªëÂä®ÈÄªËæë  
    initSwipe(container);  
}  

// ÂàùÂßãÂåñÊªëÂä®ÈÄªËæë  
function initSwipe(container) {  
    let startX = 0;  
    let startY = 0;  
    let isSwiping = false;  
    let verticalHintTimeout;
    let isFirstInteraction = true;

    container.addEventListener('touchstart', e => {  
        startX = e.touches[0].clientX;  
        startY = e.touches[0].clientY;  
        isSwiping = true;  
        // Êñ∞Â¢ûÔºöÊ∏ÖÈô§È¶ñÊ¨°ÊèêÁ§∫
        if(isFirstInteraction) {
            clearTimeout(verticalHintTimeout);
            isFirstInteraction = false;
        }
    });  

    container.addEventListener('touchmove', e => {  
        if (!isSwiping) return;  
        const deltaX = e.touches[0].clientX - startX;  
        const deltaY = e.touches[0].clientY - startY;
        container.querySelector('.carousel').style.transform = `translateX(${-currentIndex * 100 + deltaX / window.innerWidth * 100}%)`;  
   // Êñ∞Â¢ûÔºöÂÆûÊó∂ÂûÇÁõ¥ÊªëÂä®ÂèçÈ¶à
        if(Math.abs(deltaY) > 50) {
            container.classList.add(deltaY > 0 ? 'swiping-down' : 'swiping-up');
        } else {
            container.classList.remove('swiping-up', 'swiping-down');
        }
        
        container.querySelector('.carousel').style.transform = `translateX(${-currentIndex * 100 + deltaX / window.innerWidth * 100}%)`;  
    });  

    container.addEventListener('touchend', e => { 
        if (!isSwiping) return;  
        isSwiping = false;  

        const deltaX = e.changedTouches[0].clientX - startX;  
        const deltaY = e.changedTouches[0].clientY - startY;  

        // Êñ∞Â¢ûÔºöÁßªÈô§ÊªëÂä®Áä∂ÊÄÅÁ±ª
        container.classList.remove('swiping-up', 'swiping-down');

        if (Math.abs(deltaX) > Math.abs(deltaY)) {  
            // Ê∞¥Âπ≥ÊªëÂä®Â§ÑÁêÜ  
            if (Math.abs(deltaX) > 50) {  
                if (deltaX > 0 && currentIndex > 0) {  
                    currentIndex--;  
                } else if (deltaX < 0 && currentIndex < container.querySelectorAll('.media-item').length - 1) {  
                    currentIndex++;  
                }  
            }  
            container.querySelector('.carousel').style.transform = `translateX(${-currentIndex * 100}%)`;  
            playCurrentMedia();  
        } else {  
            // ÂûÇÁõ¥ÊªëÂä®Â§ÑÁêÜ  
            if (Math.abs(deltaY) > 100) {  
            
            // Ê∑ªÂä†ÂàáÊç¢Âä®ÁîªÁ±ª
    container.classList.add(deltaY > 0 ? 'swiping-up' : 'swiping-down');
    
                closeFolder();  
                let newFolderId = currentFolderId;  
                if (deltaY > 0) {  
                    newFolderId--;  
                    if (newFolderId < 1) newFolderId = 38;  
                } else {  
                    newFolderId++;  
                    if (newFolderId > 38) newFolderId = 1;  
                }  
                setTimeout(() => openFolder(newFolderId.toString()), 10);  
            } else {  
                container.querySelector('.carousel').style.transform = `translateX(${-currentIndex * 100}%)`;  
            }  
        }  
    });  

    // ÂÖ≥Èó≠ÊåâÈíÆÈÄªËæë  
    container.querySelector('.close-btn').addEventListener('click', () => {  
        closeFolder();  
    });  
    
    function showVerticalHint(direction) {
  const container = currentFolder.querySelector('.folder-container');
  container.classList.add(`show-${direction}-hint`);
  
  clearTimeout(verticalHintTimeout);
  verticalHintTimeout = setTimeout(() => {
    container.classList.remove(`show-${direction}-hint`);
  }, 1000);
}
}  

// Êí≠ÊîæÂΩìÂâçÂ™í‰Ωì  
function playCurrentMedia() {  
    const currentItem = currentFolder.querySelectorAll('.media-item')[currentIndex];  
    const video = currentItem.querySelector('video');  
    if (video) {  
        video.currentTime = 0;  
        video.play();  
    }  
}  

// ÂÖ≥Èó≠Êñá‰ª∂Â§π  
function closeFolder() {  
    currentFolder.remove();  
    currentFolder = null;  
    currentIndex = 0;  

    // ÈáçÊñ∞ÂêØÁî®È¶ñÈ°µÊªëÂä®  
    enableHomeScroll();  
}  

// Ëé∑ÂèñÁº©Áï•ÂõæË∑ØÂæÑ  
function getThumbnail(file) {  
    if (file.endsWith('.mp4')) {  
        return file.replace('.mp4', '-0.webp');  
    }  
    return file;  
}  

// Á¶ÅÁî®È¶ñÈ°µÊªëÂä®  
function disableHomeScroll() {  
    isHomeScrollEnabled = false;  
    document.body.style.overflow = 'hidden'; // Á¶ÅÁî®È°µÈù¢ÊªöÂä®  
}  

// ÂêØÁî®È¶ñÈ°µÊªëÂä®  
function enableHomeScroll() {  
    isHomeScrollEnabled = true;  
    document.body.style.overflow = 'auto'; // ÊÅ¢Â§çÈ°µÈù¢ÊªöÂä®  
}  

// ÁõëÂê¨È¶ñÈ°µÊªëÂä®‰∫ã‰ª∂  
document.addEventListener('touchmove', (e) => {  
    if (!isHomeScrollEnabled) {  
        e.preventDefault(); // Â¶ÇÊûúÈ¶ñÈ°µÊªëÂä®Ë¢´Á¶ÅÁî®ÔºåÈòªÊ≠¢ÈªòËÆ§Ë°å‰∏∫  
    }  
}, { passive: false });  

// Â∞ÜÂäüËÉΩÊãÜÂàÜ‰∏∫Ê®°Âùó
const MediaPlayer = {
  init() {
    this.bindEvents();
  },
  
  bindEvents() {
    // ‰∫ã‰ª∂ÁªëÂÆöÈÄªËæë
  }
};

const FolderViewer = {
  // Êñá‰ª∂Â§πÁõ∏ÂÖ≥ÈÄªËæë
};

// Â∞ÜÈÖçÁΩÆÊï∞ÊçÆÁã¨Á´ã
const CONFIG = {
  baseUrl: 'https://mx-1341045368.cos.ap-chengdu.myqcloud.com/',
  folders: { /* ... */ },
  defaultAvatar: '241226-t.jpg'
};

// ÊîπËøõÂÖ≥Èó≠ÈÄªËæë
function closeFolder() {
  if (currentFolder) {
    // ÂÅúÊ≠¢ÊâÄÊúâÂ™í‰ΩìÊí≠Êîæ
    currentFolder.querySelectorAll('video, audio').forEach(media => {
      media.pause();
      media.src = '';
      media.load();
    });
    
    currentFolder.remove();
    currentFolder = null;
    currentIndex = 0;
  }
  enableHomeScroll();
}

// Ê∑ªÂä†Â™í‰ΩìÈîôËØØÂ§ÑÁêÜ
function createMediaElement(file) {
  const media = file.endsWith('.mp4') ? 
    document.createElement('video') : 
    document.createElement('img');

  media.onerror = () => {
    console.error('Failed to load:', file);
    media.parentElement?.remove();
  };
  
  return media;
}
</script>  
</body>
</html>